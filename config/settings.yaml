# Vault Intelligence System V2 Configuration

# 모델 설정
model:
  name: "BAAI/bge-m3"
  dimension: 1024
  batch_size: 8 # 성능 최대화: 4→8로 증가
  cache_folder: "models/"
  device: null # null=auto-detect, "cpu", "cuda"
  use_fp16: false # M1 Pro CPU에서는 FP16 비활성화
  max_length: 8192 # 최대 토큰 길이로 복원
  num_workers: 8 # M1 Pro 10코어의 80% 활용

# 캐시 설정
cache:
  db_path: "cache/embeddings.db"
  metadata_path: "cache/metadata.json"
  enable_compression: true
  clean_on_start: false

# Vault 설정
vault:
  excluded_dirs:
    - ".DS_Store"
    - ".claude"
    - ".git"
    - ".idea"
    - ".obsidian-tools"
    - ".obsidian"
    - ".serena"
    - ".smart-env"
    - ".smtcmp_chat_histories"
    - ".smtcmp_json_db"
    - ".trash"
    - "cc-logs"
    - "smart-chats"
  file_extensions:
    - ".md"
    - ".markdown"
  max_file_size_mb: 10

# 검색 설정
search:
  default_top_k: 10
  similarity_threshold: 0.3
  enable_hybrid_search: true
  text_weight: 0.3
  semantic_weight: 0.7

# 중복 감지 설정
duplicates:
  similarity_threshold: 0.85
  min_word_count: 50
  group_threshold: 0.9

# 클러스터링 설정
clustering:
  default_n_clusters: 15
  min_cluster_size: 3
  algorithm: "kmeans" # "kmeans", "dbscan", "hierarchical"
  random_state: 42

# 주제 수집 설정
collection:
  min_documents: 3
  group_by_tags: true
  include_statistics: true
  output_format: "markdown"

# 로깅 설정
logging:
  level: "ERROR" # DEBUG, INFO, WARNING, ERROR
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  file: null # null=console only, 또는 파일 경로

# 성능 설정
performance:
  enable_gpu: true
  num_workers: 8 # 워커 수 증가
  chunk_size: 200 # 청크 크기 감소로 더 세밀한 처리
  progress_bar: true
